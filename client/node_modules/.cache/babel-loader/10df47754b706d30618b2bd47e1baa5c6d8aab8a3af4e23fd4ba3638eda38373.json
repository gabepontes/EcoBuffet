{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gabri\\\\cse 115a\\\\dubzpizza\\\\client\\\\src\\\\Admin.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Admin = () => {\n  _s();\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [selectedPizzas, setSelectedPizzas] = useState([]);\n  const socketRef = useRef();\n  const updateSelectedPizzas = useCallback(data => {\n    setSelectedPizzas(data);\n  }, []);\n  useEffect(() => {\n    if (loggedIn) {\n      socketRef.current = io('http://localhost:5000');\n      socketRef.current.on('connect', () => {\n        console.log('Connected to server');\n        socketRef.current.emit('admin_connected');\n      });\n      socketRef.current.on('selected_pizzas_update', updateSelectedPizzas);\n      return () => {\n        socketRef.current.disconnect();\n      };\n    }\n  }, [loggedIn, updateSelectedPizzas]);\n  const handleLogin = () => {\n    setLoggedIn(true);\n  };\n  const handleLogout = () => {\n    setLoggedIn(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [!loggedIn && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogin,\n      children: \"Log in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }, this), loggedIn && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      children: \"Log out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Selected Pizzas:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: selectedPizzas.map(pizza => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: pizza.name\n      }, pizza.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(Admin, \"mmKPhIz2b5sKjlkgYT3AM4w+PaY=\");\n_c = Admin;\nexport default Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","io","jsxDEV","_jsxDEV","Admin","_s","loggedIn","setLoggedIn","selectedPizzas","setSelectedPizzas","socketRef","updateSelectedPizzas","data","current","on","console","log","emit","disconnect","handleLogin","handleLogout","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","pizza","name","id","_c","$RefreshReg$"],"sources":["C:/Users/gabri/cse 115a/dubzpizza/client/src/Admin.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nconst Admin = () => {\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [selectedPizzas, setSelectedPizzas] = useState([]);\r\n  const socketRef = useRef();\r\n\r\n  const updateSelectedPizzas = useCallback((data) => {\r\n    setSelectedPizzas(data);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      socketRef.current = io('http://localhost:5000');\r\n\r\n      socketRef.current.on('connect', () => {\r\n        console.log('Connected to server');\r\n        socketRef.current.emit('admin_connected');\r\n      });\r\n\r\n      socketRef.current.on('selected_pizzas_update', updateSelectedPizzas);\r\n\r\n      return () => {\r\n        socketRef.current.disconnect();\r\n      };\r\n    }\r\n  }, [loggedIn, updateSelectedPizzas]);\r\n\r\n  const handleLogin = () => {\r\n    setLoggedIn(true);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setLoggedIn(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!loggedIn && <button onClick={handleLogin}>Log in</button>}\r\n      {loggedIn && <button onClick={handleLogout}>Log out</button>}\r\n      <h2>Selected Pizzas:</h2>\r\n      <ul>\r\n        {selectedPizzas.map((pizza) => (\r\n          <li key={pizza.id}>{pizza.name}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AACvE,OAAOC,EAAE,MAAM,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACW,cAAc,EAAEC,iBAAiB,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAMa,SAAS,GAAGX,MAAM,EAAE;EAE1B,MAAMY,oBAAoB,GAAGX,WAAW,CAAEY,IAAI,IAAK;IACjDH,iBAAiB,CAACG,IAAI,CAAC;EACzB,CAAC,EAAE,EAAE,CAAC;EAENd,SAAS,CAAC,MAAM;IACd,IAAIQ,QAAQ,EAAE;MACZI,SAAS,CAACG,OAAO,GAAGZ,EAAE,CAAC,uBAAuB,CAAC;MAE/CS,SAAS,CAACG,OAAO,CAACC,EAAE,CAAC,SAAS,EAAE,MAAM;QACpCC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;QAClCN,SAAS,CAACG,OAAO,CAACI,IAAI,CAAC,iBAAiB,CAAC;MAC3C,CAAC,CAAC;MAEFP,SAAS,CAACG,OAAO,CAACC,EAAE,CAAC,wBAAwB,EAAEH,oBAAoB,CAAC;MAEpE,OAAO,MAAM;QACXD,SAAS,CAACG,OAAO,CAACK,UAAU,EAAE;MAChC,CAAC;IACH;EACF,CAAC,EAAE,CAACZ,QAAQ,EAAEK,oBAAoB,CAAC,CAAC;EAEpC,MAAMQ,WAAW,GAAGA,CAAA,KAAM;IACxBZ,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EAED,MAAMa,YAAY,GAAGA,CAAA,KAAM;IACzBb,WAAW,CAAC,KAAK,CAAC;EACpB,CAAC;EAED,oBACEJ,OAAA;IAAAkB,QAAA,GACG,CAACf,QAAQ,iBAAIH,OAAA;MAAQmB,OAAO,EAAEH,WAAY;MAAAE,QAAA,EAAC;IAAM;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAS,EAC1DpB,QAAQ,iBAAIH,OAAA;MAAQmB,OAAO,EAAEF,YAAa;MAAAC,QAAA,EAAC;IAAO;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAS,eAC5DvB,OAAA;MAAAkB,QAAA,EAAI;IAAgB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK,eACzBvB,OAAA;MAAAkB,QAAA,EACGb,cAAc,CAACmB,GAAG,CAAEC,KAAK,iBACxBzB,OAAA;QAAAkB,QAAA,EAAoBO,KAAK,CAACC;MAAI,GAArBD,KAAK,CAACE,EAAE;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAClB;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACD;AAEV,CAAC;AAACrB,EAAA,CA9CID,KAAK;AAAA2B,EAAA,GAAL3B,KAAK;AAgDX,eAAeA,KAAK;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}